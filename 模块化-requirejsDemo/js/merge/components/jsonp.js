define("components/jsonp",["jquery","components/waterfall"],function(t,a){function n(t){this.$ct=t,this.perPageCount=8,this.curPage=1,this.load()}return n.prototype.load=function(){var a=this;t.ajax({url:"https://platform.sina.com.cn/slide/album_tech",type:"get",dataType:"jsonp",jsonp:"jsoncallback",data:{app_key:"1271687855",num:a.perPageCount,page:a.curPage}}).done(function(t){t&&"0"===t.status.code?(a.renderData(t.data),a.curPage++):console.log("获取数据失败！")})},n.prototype.renderData=function(n){for(var e=this,o="",r=0;r<n.length;r++)o+='<li><a href="'+n[r].url+'" class="link"><img src="'+n[r].img_url+'" alt=""></a><h4>'+n[r].short_name+"</h4><p>"+n[r].short_intro+"</p></li>";e.$ct.append(t(o)),e.$ct.find("img").on("load",function(){a.init(t(".waterfall-ct"))})},n});